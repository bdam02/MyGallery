<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>MyGallery Premium</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg-dark:#000;
  --bg-light:#f4f6fa;
}
body{
  margin:0;
  font-family:Segoe UI, sans-serif;
  display:flex;
  height:100vh;
  transition:.5s;
}
body.dark{background:#000;color:white}
body.light{background:var(--bg-light);color:#222}

/* SIDEBAR */
#sidebar{
  width:260px;
  padding:20px;
  background:rgba(255,255,255,.05);
  backdrop-filter:blur(12px);
}
body.light #sidebar{background:white}
.gallery{
  font-weight:bold;
  padding:10px;
  border-radius:10px;
  margin-bottom:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  cursor:pointer;
  transition:.3s;
}
.gallery:hover{box-shadow:0 0 10px rgba(255,255,255,.4)}
.controls{display:flex;gap:6px}

/* COLOR PALETTE */
.palette{
  display:flex;
  gap:5px;
}
.color{
  width:14px;
  height:14px;
  border-radius:4px;
  cursor:pointer;
}
.red{background:red}
.orange{background:orange}
.yellow{background:yellow}
.green{background:lime}
.blue{background:dodgerblue}
.purple{background:mediumpurple}
.pink{background:hotpink}

/* MAIN */
#main{flex:1;padding:20px}
#top{display:flex;gap:10px;flex-wrap:wrap}
button{
  padding:10px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  transition:.3s;
}
button:hover{transform:scale(1.05)}
.modeBtn{
  font-size:20px;
  width:40px;
  height:40px;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* FILES */
#files{
  display:grid;
  grid-template-columns:repeat(auto-fill,180px);
  gap:20px;
  margin-top:20px;
}
.card{
  background:rgba(255,255,255,.08);
  border-radius:16px;
  overflow:hidden;
  box-shadow:0 0 10px rgba(255,255,255,.2);
}
.card img,video{width:100%}
.name{text-align:center;padding:6px;font-weight:500}
.actions{
  display:flex;
  justify-content:space-between;
  padding:6px;
}
.actions button{font-size:12px}

/* EFFECTS */
.effect{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none}
.star,.rain,.snow{
  position:absolute;
  background:white;
  opacity:.8;
}
</style>
</head>

<body class="dark">

<div id="sidebar">
  <h3>Galleries</h3>
  <div id="galleryList"></div>
  <button onclick="addGallery()">‚ûï Gallery</button>
</div>

<div id="main">
  <div id="top">
    <input type="file" id="fileInput" multiple>
    <button onclick="upload()">Upload</button>
    <button id="bgBtn" onclick="changeBg()">üéÜ Background</button>
    <button class="modeBtn" onclick="toggleMode()">‚òÄÔ∏è</button>
  </div>
  <div id="files"></div>
</div>

<script>
let data=JSON.parse(localStorage.getItem("myGallery"))||{
  mode:"dark",
  bg:"none",
  current:"gallery1",
  galleries:{
    gallery1:{color:"white",files:[]}
  }
};
document.body.className=data.mode;

const colors=["red","orange","yellow","green","blue","purple","pink"];

function save(){localStorage.setItem("myGallery",JSON.stringify(data));}

function renderGalleries(){
  galleryList.innerHTML="";
  for(let g in data.galleries){
    let div=document.createElement("div");
    div.className="gallery";
    div.style.color=data.galleries[g].color;
    div.innerHTML=`<span>${g}</span>`;
    let ctr=document.createElement("div");
    ctr.className="controls";
    let pal=document.createElement("div");
    pal.className="palette";
    colors.forEach(c=>{
      let d=document.createElement("div");
      d.className="color "+c;
      d.onclick=e=>{e.stopPropagation();data.galleries[g].color=c;save();renderGalleries()}
      pal.appendChild(d);
    });
    let ren=document.createElement("button");
    ren.textContent="‚úèÔ∏è";
    ren.onclick=e=>{
      e.stopPropagation();
      let n=prompt("Rename gallery",g);
      if(n&&!data.galleries[n]){
        data.galleries[n]=data.galleries[g];
        delete data.galleries[g];
        if(data.current===g)data.current=n;
        save();renderGalleries();renderFiles();
      }
    };
    ctr.appendChild(pal);
    ctr.appendChild(ren);
    div.appendChild(ctr);
    div.onclick=()=>{data.current=g;save();renderFiles();}
    galleryList.appendChild(div);
  }
}

function renderFiles(){
  files.innerHTML="";
  data.galleries[data.current].files.forEach((f,i)=>{
    let c=document.createElement("div");
    c.className="card";
    c.innerHTML=`
      ${f.type.startsWith("image")?`<img src="${f.data}">`:`<video src="${f.data}" controls></video>`}
      <div class="name">${f.name}</div>
      <div class="actions">
        <button onclick="renameFile(${i})">Rename</button>
        <button onclick="deleteFile(${i})">X</button>
      </div>`;
    files.appendChild(c);
  });
}

function upload(){
  [...fileInput.files].forEach(file=>{
    let r=new FileReader();
    r.onload=e=>{
      data.galleries[data.current].files.push({name:file.name,type:file.type,data:e.target.result});
      save();renderFiles();
    };
    r.readAsDataURL(file);
  });
}

function renameFile(i){
  let n=prompt("New name",data.galleries[data.current].files[i].name);
  if(n){data.galleries[data.current].files[i].name=n;save();renderFiles();}
}
function deleteFile(i){
  data.galleries[data.current].files.splice(i,1);save();renderFiles();
}

function addGallery(){
  let n="gallery"+(Object.keys(data.galleries).length+1);
  data.galleries[n]={color:"white",files:[]};
  data.current=n;save();renderGalleries();renderFiles();
}

function toggleMode(){
  data.mode=data.mode==="dark"?"light":"dark";
  document.body.className=data.mode;
  save();
}

renderGalleries();
renderFiles();
</script>
</body>
</html>



















