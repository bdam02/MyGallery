<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MyGallery Premium</title>

<style>
:root{
  --accent:#4CAF50;
  --danger:#ff4d4d;
}

/* ===== BODY ===== */
body{
  margin:0;
  font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
  background:#000;
  color:#fff;
  display:flex;
  height:100vh;
  overflow:hidden;
  position:relative;
}

/* ===== STARS ===== */
.star{
  position:absolute;
  background:white;
  border-radius:50%;
  opacity:.6;
  animation:twinkle 4s infinite alternate;
}
@keyframes twinkle{
  0%,100%{opacity:.2;}
  50%{opacity:1;}
}

/* ===== USERNAME DISPLAY ===== */
#usernameDisplay{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:58px;
  font-family:'Orbitron',monospace;
  opacity:.5;
  pointer-events:none;
  text-shadow:
    0 0 20px #fff,
    0 0 45px #4CAF50,
    0 0 80px #4CAF50;
  animation:float 2.8s ease-in-out infinite alternate;
}
@keyframes float{
  from{transform:translate(-50%,-50%) translateY(-4px);}
  to{transform:translate(-50%,-50%) translateY(4px);}
}

/* ===== SIDEBAR ===== */
#sidebar{
  width:250px;
  padding:20px;
  background:rgba(255,255,255,.05);
  border-right:1px solid rgba(255,255,255,.1);
  display:flex;
  flex-direction:column;
}

#sidebar h3{margin-bottom:12px;}

#galleryCount{
  margin-top:auto;
  text-align:center;
  opacity:.7;
  font-size:13px;
}

/* ===== GALLERIES ===== */
#galleriesList{
  display:flex;
  flex-direction:column;
  gap:18px;
}

.gallery-item{
  padding:12px 14px;
  border-radius:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  cursor:pointer;
  font-weight:600;
  box-shadow:0 0 16px currentColor;
  transition:.25s;
}
.gallery-item:hover{
  transform:scale(1.04);
}

.btnGroup{
  display:flex;
  gap:3px;
}
.gallery-item button{
  background:none;
  border:none;
  cursor:pointer;
  color:white;
  font-size:14px;
  width:26px;
  height:26px;
}

/* ===== ADD BTN ===== */
#addGalleryBtn{
  margin-top:16px;
}

/* ===== MAIN ===== */
#main{
  flex:1;
  padding:20px;
  display:flex;
  flex-direction:column;
}

/* ===== TOP BAR ===== */
#topBar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:15px;
}

#changeUsernameBtn{
  background:#fff;
  color:#000;
  padding:10px 22px;
  border-radius:12px;
  font-weight:600;
  cursor:pointer;
  border:none;
  box-shadow:0 0 14px rgba(255,255,255,.6);
}

/* ===== CONTROLS ===== */
#topControls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:20px;
}
button,input{
  padding:10px 14px;
  border-radius:10px;
  border:1px solid #ccc;
}

/* ===== GALLERY ===== */
#galleryContainer{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:28px;
}

/* ===== FILE CARD ===== */
.fileCard{
  background:rgba(255,255,255,.05);
  border-radius:16px;
  overflow:hidden;
  cursor:pointer;
  opacity:0;
  transform:translateY(20px);
  transition:.4s;
}
.fileCard.show{
  opacity:1;
  transform:none;
}
.fileCard img,.fileCard video{
  width:100%;
}
.fileName{
  text-align:center;
  padding:6px;
}

/* ===== MODAL ===== */
#modal{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  background:rgba(0,0,0,.85);
  z-index:1000;
}
#modal img,#modal video{
  max-width:90%;
  max-height:90%;
  border-radius:14px;
}

/* ===== USERNAME PROMPT ===== */
#usernamePrompt{
  position:fixed;
  inset:0;
  background:#000;
  z-index:2000;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:12px;
}
</style>
</head>

<body>

<div id="usernamePrompt">
  <h2>Choose your username</h2>
  <input id="usernameInput" placeholder="Username">
  <button id="usernameConfirm">Confirm</button>
</div>

<div id="usernameDisplay"></div>

<div id="sidebar">
  <h3>Galleries</h3>
  <div id="galleriesList"></div>
  <button id="addGalleryBtn">âž•</button>
  <div id="galleryCount">1/10</div>
</div>

<div id="main">
  <div id="topBar">
    <div></div>
    <button id="changeUsernameBtn">Change Username</button>
  </div>

  <div id="topControls">
    <input type="file" id="fileInput" multiple>
    <button id="uploadBtn">Upload</button>
    <button id="clearBtn">Clear Gallery</button>
  </div>

  <div id="galleryContainer"></div>
</div>

<div id="modal" onclick="this.style.display='none'">
  <div id="modalContent"></div>
</div>

<script>
/* ===== STARS ===== */
for(let i=0;i<200;i++){
  const s=document.createElement('div');
  s.className='star';
  s.style.top=Math.random()*100+'%';
  s.style.left=Math.random()*100+'%';
  s.style.width=s.style.height=(Math.random()*2+1)+'px';
  document.body.appendChild(s);
}

/* ===== DATA ===== */
let galleries=JSON.parse(localStorage.getItem('galleries'))||{gallery1:[]};
let currentGallery='gallery1';
let username=localStorage.getItem('username')||'';

const maxGalleries=10;

/* ===== ELEMENTS ===== */
const gList=document.getElementById('galleriesList');
const gCount=document.getElementById('galleryCount');
const addBtn=document.getElementById('addGalleryBtn');
const galleryContainer=document.getElementById('galleryContainer');
const uploadBtn=document.getElementById('uploadBtn');
const fileInput=document.getElementById('fileInput');
const clearBtn=document.getElementById('clearBtn');
const modal=document.getElementById('modal');
const modalContent=document.getElementById('modalContent');
const usernameDisplay=document.getElementById('usernameDisplay');
const promptBox=document.getElementById('usernamePrompt');

/* ===== USERNAME ===== */
if(username){
  promptBox.style.display='none';
  usernameDisplay.textContent=username;
}
document.getElementById('usernameConfirm').onclick=()=>{
  if(usernameInput.value){
    username=usernameInput.value;
    localStorage.setItem('username',username);
    usernameDisplay.textContent=username;
    promptBox.style.display='none';
  }
};
document.getElementById('changeUsernameBtn').onclick=()=>{
  const n=prompt('New username:',username);
  if(n){
    username=n;
    localStorage.setItem('username',username);
    usernameDisplay.textContent=username;
  }
};

/* ===== RENDER ===== */
function renderGalleries(){
  gList.innerHTML='';
  Object.keys(galleries).forEach(name=>{
    const div=document.createElement('div');
    div.className='gallery-item';
    div.textContent=name;
    div.onclick=()=>{
      currentGallery=name;
      renderGalleryFiles();
    };
    gList.appendChild(div);
  });

  const count=Object.keys(galleries).length;
  gCount.textContent=`${count}/${maxGalleries}`;
  addBtn.style.display=count>=maxGalleries?'none':'block';
}
function renderGalleryFiles(){
  galleryContainer.innerHTML='';
  galleries[currentGallery].forEach((f,i)=>{
    const c=document.createElement('div');
    c.className='fileCard';
    c.innerHTML=f.type.startsWith('image')
      ? `<img src="${f.data}"><div class="fileName">${f.name}</div>`
      : `<video src="${f.data}" controls></video><div class="fileName">${f.name}</div>`;
    c.onclick=()=>{
      modalContent.innerHTML=c.innerHTML;
      modal.style.display='flex';
    };
    galleryContainer.appendChild(c);
    setTimeout(()=>c.classList.add('show'),i*50);
  });
}

/* ===== ACTIONS ===== */
uploadBtn.onclick=()=>{
  [...fileInput.files].forEach(file=>{
    const r=new FileReader();
    r.onload=e=>{
      galleries[currentGallery].push({name:file.name,type:file.type,data:e.target.result});
      localStorage.setItem('galleries',JSON.stringify(galleries));
      renderGalleryFiles();
    };
    r.readAsDataURL(file);
  });
};
clearBtn.onclick=()=>{
  if(confirm('Clear gallery?')){
    galleries[currentGallery]=[];
    localStorage.setItem('galleries',JSON.stringify(galleries));
    renderGalleryFiles();
  }
};
addBtn.onclick=()=>{
  const name=`gallery${Object.keys(galleries).length+1}`;
  galleries[name]=[];
  localStorage.setItem('galleries',JSON.stringify(galleries));
  renderGalleries();
};

/* ===== INIT ===== */
renderGalleries();
renderGalleryFiles();
</script>
</body>
</html>






